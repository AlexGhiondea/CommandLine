<Project Sdk="Microsoft.NET.Sdk">

  <PropertyGroup>
    <TargetFrameworks>netstandard1.5;netstandard2.0</TargetFrameworks>
    <TargetFrameworks Condition="'$(OS)' == 'Windows_NT'">$(TargetFrameworks);net45;net461</TargetFrameworks>
    <DebugType>full</DebugType>
  </PropertyGroup>

  <PropertyGroup>
    <AssemblyVersion>2.2.2</AssemblyVersion>
    <FileVersion>2.2.2</FileVersion>
    <VersionPrefix>2.2.0</VersionPrefix>
  </PropertyGroup>

  <PropertyGroup>
    <PackageId>CommandLine.Net</PackageId>
    <GeneratePackageOnBuild>False</GeneratePackageOnBuild>
    <PackageRequireLicenseAcceptance>False</PackageRequireLicenseAcceptance>
    <Authors>Alex Ghiondea</Authors>
    <Description>Parse command line arguments into user defined objects</Description>
    <releaseNotes>Fix an issue where TryParse returns true when parsing help which leads to a null reference later.
    Also ensure that Parse throws a ParseException when the help was requested to ensure we don't end up with null options after parsing.</releaseNotes>
    <Copyright>Alex Ghiondea (c) 2020</Copyright>
    <PackageLicenseUrl>https://raw.githubusercontent.com/AlexGhiondea/CommandLine/master/LICENSE</PackageLicenseUrl>
    <PackageProjectUrl>https://github.com/AlexGhiondea/CommandLine</PackageProjectUrl>
    <RepositoryType>Git</RepositoryType>
    <PackageTags>CommandLine, Command line, Command, Line, parser, objects, custom</PackageTags>
    <LangVersion>7.1</LangVersion>
    <Version>2.2.2</Version>
  </PropertyGroup>

  <ItemGroup>
    <PackageReference Include="OutputColorizer" Version="2.0.0" />
  </ItemGroup>

  <ItemGroup Condition="'$(TargetFramework)' != 'net45'">
    <ProjectReference Include="..\analyzer\CommandLine.Analyzer\CommandLine.Analyzer.csproj">
      <ExcludeAssets>all</ExcludeAssets>
      <ReferenceOutputAssembly>false</ReferenceOutputAssembly>
    </ProjectReference>
  </ItemGroup>

  <!-- This is needed so that the VS build will produce a NuGet package -->
  <ItemGroup>
    <None Include="..\analyzer\CommandLine.Analyzer\bin\$(Configuration)\netstandard1.3\**\*.Analyzer.dll">
      <PackagePath>analyzers/dotnet/cs</PackagePath>
      <Pack>true</Pack>
      <Visible>false</Visible>
    </None>
    <None Include="..\analyzer\CommandLine.Analyzer\bin\$(Configuration)\netstandard1.3\tools\*.ps1">
      <PackagePath>tools</PackagePath>
      <Pack>true</Pack>
      <Visible>false</Visible>
    </None>
  </ItemGroup>

</Project>
